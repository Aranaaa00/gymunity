<label class="selector__label" [for]="inputId()">
  {{ label() }}
  @if (required()) {
    <abbr class="selector__required" title="Campo obligatorio">*</abbr>
  }
</label>

<div class="selector__wrapper">
  <select
    class="selector__field"
    [class.selector__field--error]="hasError()"
    [id]="inputId()"
    [name]="name()"
    [value]="value"
    [required]="required()"
    [disabled]="disabled() || isDisabled"
    [attr.aria-describedby]="helpText() ? inputId() + '-help' : (hasError() ? inputId() + '-error' : null)"
    [attr.aria-invalid]="hasError()"
    (change)="onChangeEvent($event)"
    (blur)="onBlur()"
  >
    @if (placeholder()) {
      <option value="" disabled>{{ placeholder() }}</option>
    }
    @for (opcion of opciones(); track getValorOpcion(opcion)) {
      <option 
        [value]="getValorOpcion(opcion)" 
        [disabled]="isOpcionDisabled(opcion)">
        {{ getEtiquetaOpcion(opcion) }}
      </option>
    }
  </select>
  <span class="selector__icon" aria-hidden="true">â–¼</span>
</div>

@if (helpText() && !hasError()) {
  <small class="selector__help" [id]="inputId() + '-help'">{{ helpText() }}</small>
}

@if (hasError() && errorMessage()) {
  <small class="selector__error" [id]="inputId() + '-error'" role="alert">{{ errorMessage() }}</small>
}
