<header class="formulario-auth__header">
  <img src="assets/logo.png" alt="Gymunity" class="formulario-auth__logo">
</header>

<form class="formulario-auth" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
  <fieldset class="formulario-auth__fieldset">
    <legend class="formulario-auth__legend">Iniciar sesión</legend>

    @if (errorServidor()) {
      <p class="formulario-auth__error-servidor">{{ errorServidor() }}</p>
    }
    
    <app-campo-formulario
      label="Email o nombre de usuario"
      type="text"
      placeholder="tu@email.com o tu_usuario"
      inputId="login-identifier"
      name="identifier"
      [formControl]="$any(identifierControl)"
      [required]="true"
      [hasError]="!!identifierControl?.touched && !!identifierControl?.invalid"
      [errorMessage]="getErrorMessage('identifier')">
    </app-campo-formulario>
    
    <app-campo-formulario
      label="Contraseña"
      type="password"
      placeholder="••••••••"
      inputId="login-password"
      name="password"
      [formControl]="$any(passwordControl)"
      [required]="true"
      [hasError]="!!passwordControl?.touched && !!passwordControl?.invalid"
      [errorMessage]="getErrorMessage('password')">
    </app-campo-formulario>
    
    <section class="formulario-auth__submit">
      <app-boton tipo="submit" [disabled]="loginForm.invalid && loginForm.touched" [cargando]="cargando()">
        Iniciar sesión
      </app-boton>
    </section>

    <p class="formulario-auth__alt">
      ¿No tienes cuenta? 
      <button type="button" class="formulario-auth__link" (click)="irRegistro.emit()">Crear cuenta</button>
    </p>
  </fieldset>
</form>
