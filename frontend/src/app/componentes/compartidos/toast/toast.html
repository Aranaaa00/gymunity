@if (notificacion(); as n) {
  <aside 
    class="toast"
    [class]="tipoClase()"
    [class.toast--saliendo]="saliendo()"
    [attr.data-id]="notificacionId()"
    role="alert"
    aria-live="assertive"
    aria-atomic="true">
    
    <!-- Icono del tipo de notificación -->
    <span class="toast__icono" aria-hidden="true">
      <lucide-icon [name]="icono()" [size]="18" />
    </span>
    
    <!-- Mensaje de la notificación -->
    <p class="toast__mensaje">{{ n.mensaje }}</p>
    
    <!-- Botón cerrar -->
    <button 
      type="button"
      class="toast__cerrar" 
      (click)="cerrar()" 
      aria-label="Cerrar notificación">
      <lucide-icon name="x" [size]="14" />
    </button>
    
    <!-- Barra de progreso con key única para reiniciar animación -->
    @for (item of [notificacionId()]; track item) {
      <span 
        class="toast__progreso" 
        aria-hidden="true">
      </span>
    }
  </aside>
}
