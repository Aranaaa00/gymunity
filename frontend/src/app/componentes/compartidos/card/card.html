<article 
  class="card" 
  [class]="variant()"
  [class.card--clickable]="!!id()"
  (click)="navegarAGimnasio()">
  @if (imageSrc()) {
    <app-card-image
      [src]="imageSrc()"
      [alt]="imageAlt() || title()"
      size="md"
      [variant]="variant()"
    />
  }
  <section class="card-body">
    <header class="card-header">
      <h3 class="card-title">{{ title() }}</h3>
      @if (subtitle()) {
        <p class="card-subtitle">{{ subtitle() }}</p>
      }
      @if (location()) {
        <p class="card-location">{{ location() }}</p>
      }
      @if (tieneValoracion()) {
        <span class="card-rating card-rating--con-estrella">
          <lucide-icon name="star" [size]="14" />
          {{ valoracionFormateada() }}
        </span>
      } @else if (valoracion() === null && !rating()) {
        <span class="card-rating card-rating--sin-valoracion">
          Aún sin valoraciones
        </span>
      } @else if (rating()) {
        <span class="card-rating">{{ rating() }}</span>
      }
    </header>
  </section>
  @if (variant() === 'horizontal') {
    <footer class="card-footer">
      <app-boton variante="ghost" tamanio="sm">Ver más</app-boton>
    </footer>
  }
  @if (actionText() && variant() !== 'horizontal') {
    <footer class="card-footer">
      <button class="card-action">{{ actionText() }}</button>
    </footer>
  }
</article>
