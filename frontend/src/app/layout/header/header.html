<header class="gym-header">
  <section class="gym-header__container">
    <a class="gym-header__logo" routerLink="/" aria-label="Ir a inicio">
      <img src="assets/logo.png" alt="Gymunity">
    </a>
    
    <search class="gym-header__buscador">
      <app-buscador placeholder="Buscar..." (buscar)="alBuscar($event)" />
    </search>

    <section class="gym-header__acciones">
      <app-boton-tema class="gym-header__tema" aria-label="Cambiar tema" />

      @if (usuarioAutenticado()) {
        <app-menu-usuario class="gym-header__menu-usuario" />
      } @else {
        <nav 
          #menuNav
          class="gym-header__nav" 
          [class.gym-header__nav--abierto]="menuAbierto()"
          role="navigation"
          [attr.aria-hidden]="!menuAbierto()">
          <app-boton variante="ghost" (click)="ejecutarYCerrar(abrirLogin.emit.bind(abrirLogin))">Iniciar Sesión</app-boton>
          <app-boton variante="primary" (click)="ejecutarYCerrar(abrirRegistro.emit.bind(abrirRegistro))">Registrarse</app-boton>
        </nav>
      }

      <button 
        #botonHamburguesa
        type="button"
        (click)="alternarMenu()"
        class="gym-header__hamburguesa"
        [attr.aria-label]="menuAbierto() ? 'Cerrar menú' : 'Abrir menú'"
        [attr.aria-expanded]="menuAbierto()">
        <app-icono [nombre]="menuAbierto() ? 'x' : 'menu'" />
      </button>
    </section>
  </section>
  
  <aside 
    class="gym-header__backdrop" 
    [class.gym-header__backdrop--visible]="menuAbierto()"
    (click)="cerrarMenu()"
    aria-hidden="true">
  </aside>
</header>